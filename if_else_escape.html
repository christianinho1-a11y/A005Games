<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>If / Else Escape – CS Mini Game</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page-wrapper">
    <header class="page-header">
      <div class="page-header-left">
        <a class="back-link" href="index.html">⬅ Back to Hub</a>
        <h1>If / Else Escape</h1>
        <p class="page-subtitle">Concept: Conditionals &amp; Decision Making</p>
      </div>
      <div class="page-header-right">
        <button class="btn secondary-btn" id="leaderboard-toggle" type="button">Leaderboard</button>
      </div>
    </header>

    <main class="game-layout">
      <!-- Player setup panel: shown before the game starts -->
      <section class="panel player-setup" id="setup-panel">
        <h2>Start Game</h2>
        <label for="player-name">Enter your name to begin:</label>
        <input id="player-name" type="text" placeholder="Your name" />
        <button class="btn primary-btn" id="start-game" type="button">Start Game</button>
        <p class="helper-text" id="name-error" aria-live="polite"></p>
      </section>

      <!-- Game panel: shown after the player enters a name -->
      <section class="panel game-panel hidden" id="game-panel">
        <div class="game-meta">
          <span class="badge">Player <span class="meta-value" id="player-display"></span></span>
          <span class="badge level-badge" id="level-display"></span>
          <span class="badge">Question <span class="meta-value" id="question-display"></span></span>
          <span class="badge score-badge">Score <span class="meta-value" id="score-display">0</span></span>
        </div>

        <div class="question-block" id="story-box"></div>
        <pre class="code-block" id="code-block"></pre>

        <div class="choices" id="choices"></div>
        <div class="feedback" id="feedback"></div>

        <button class="btn primary-btn next-button hidden" id="next-button" type="button">Next Question</button>
      </section>

      <!-- Game over summary panel -->
      <section class="panel summary-panel hidden" id="summary-panel">
        <h2>Game Over</h2>
        <p><strong>Player:</strong> <span id="summary-player"></span></p>
        <p><strong>Final Score:</strong> <span id="summary-score"></span></p>
        <div class="summary-actions">
          <button class="btn primary-btn" id="save-score" type="button">Save Score to Leaderboard</button>
          <button class="btn ghost-btn" id="play-again" type="button">Play Again</button>
        </div>
        <p class="helper-text" id="save-message" aria-live="polite"></p>
      </section>
    </main>

    <!-- Leaderboard panel: shows saved scores from localStorage -->
    <section class="panel leaderboard-panel hidden" id="leaderboard-panel">
      <div class="leaderboard-header">
        <div>
          <h2>Leaderboard</h2>
          <p class="leaderboard-note">Scores are stored locally in this browser.</p>
        </div>
        <button class="btn ghost-btn leaderboard-close" id="leaderboard-close" type="button">Close</button>
      </div>
      <ol class="leaderboard-table" id="leaderboard-list"></ol>
    </section>
  </div>

  <!-- JavaScript: game logic, rendering, and leaderboard storage -->
  <script src="if_else_escape.js"></script>
</body>
</html>
